syntax = "proto3";

import "common/common.proto";

service Hot {
    rpc GetHots(HotsRequest) returns (HotsReply) {}
    rpc GetServices(ServiceRequest) returns (ServiceReply) {}
    rpc GetWeatherNews(HotsRequest) returns (WeatherNewsReply) {}
    rpc GetFrontInfo(HotsRequest) returns (FrontReply) {}
}

message HotsRequest {
    common.Head head = 1;
    int32 type = 2;
    int32 seq = 3;
}

message HotsInfo {
    string title = 1;
    repeated string images = 2;
    string source = 3;
    string dst = 4;
    string ctime = 5;
    int32 stype = 6;
    int32 seq = 7;
    int64 play = 8;
}

message HotsReply {
    common.Head head = 1;
    repeated HotsInfo infos = 2;
}

message ServiceRequest {
    common.Head head = 1;
}

message ServiceInfo {
    string title = 1;
    string icon = 2;
    string dst = 3;
}

message ServiceCategory {
    string title = 1;
    repeated ServiceInfo infos = 2;
}

message ServiceReply {
    common.Head head = 1;
    repeated ServiceInfo tops = 2;
    repeated ServiceCategory services = 3;
}

message WeatherInfo {
    int32 type = 1;
    int32 temp = 2;
    string info = 3;
}

message WeatherNewsReply {
    common.Head head = 1;
    WeatherInfo weather = 2;
    repeated HotsInfo news = 3;
}

message UseInfo {
    int32 total = 1;
    int32 save = 2;
}

message FrontReply {
    common.Head head = 1;
    UseInfo uinfo = 2;
}
